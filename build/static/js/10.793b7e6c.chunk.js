(this.webpackJsonpnewreact=this.webpackJsonpnewreact||[]).push([[10],{475:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c,a,r=n(44),i=n(17),s=n(18),j=n(445),l=n(521),o=n(183),b=n(4);function d(e){var t,n=Object(s.a)(j.a)(c||(c=Object(i.a)(["\n        ","\n        color:","\n    "])),Object(r.a)({},e.style),(null===(t=e.style)||void 0===t?void 0:t.backgroundColor)||"white");return Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{overlay:Object(b.jsx)(u,{children:e.dropdownOverlay}),trigger:["click"],children:Object(b.jsx)(n,{})})})}var u=Object(s.a)(o.a)(a||(a=Object(i.a)(["\n    min-height:10rem;\n"])))},477:function(e,t,n){},490:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var c,a,r,i,s,j=n(74),l=n(44),o=n(17),b=n(31),d=n(467),u=n(514),O=n(257),h=n(445),x=n(190),m=n(0),f=n(18),p=n(34),v=n(184),g=n(4),w=d.a.Option,y=["\u62db\u52df\u961f\u53cb","\u521b\u65b0\u9879\u76ee\u8bc4\u5ba1","\u9ed1\u5ba2\u677e\u9879\u76ee"],k=0,N=function(e){var t=Object(m.useState)(-1!==e.tags.indexOf(e.children)),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Object(p.a)(),s=Object(f.a)(u.a)(c||(c=Object(o.a)(["\n    cursor: pointer;\n  "])));return Object(g.jsxs)(s,Object(l.a)(Object(l.a)({},e),{},{onClick:function(){i(a?Object(v.d)("".concat(e.children)):Object(v.g)("".concat(e.children))),r(!a)},color:"".concat(a?"green":e.color||"blue"),children:[e.children,a&&"  \u221a"]}))};function C(e){var t,n,c=Object(m.useState)(["\u524d\u7aef","\u540e\u7aef","\u4eba\u5de5\u667a\u80fd"]),a=Object(b.a)(c,2),r=a[0],i=a[1],s=Object(m.useState)(""),l=Object(b.a)(s,2),o=l[0],u=l[1],f=Object(p.a)(),C=function(e){u(e.target.value)},S=function(){-1!==y.indexOf(o)||-1!==r.indexOf(o)?O.b.error("\u8be5\u6807\u7b7e\u5df2\u5b58\u5728"):i([o||"New item ".concat(k++)].concat(Object(j.a)(r))),u("")};return Object(g.jsxs)(I,{children:[Object(g.jsxs)(B,{children:[Object(g.jsx)(P,{children:"\u9879\u76ee\u7c7b\u578b\uff1a"}),Object(g.jsx)("div",{children:y.map((function(t){return Object(g.jsx)(N,{tags:e.proTags,children:t},t)}))})]}),Object(g.jsxs)(T,{children:[Object(g.jsx)(P,{children:"\u9879\u76ee\u6807\u7b7e\uff1a"}),Object(g.jsx)(d.a,{mode:"multiple",allowClear:!0,defaultValue:(t=e.proTags,n=y,t.filter((function(e){return n.indexOf(e)<0}))),style:{width:"100%"},onSelect:function(e){f(Object(v.g)(e))},onDeselect:function(e){f(Object(v.d)(e))},placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee\u6807\u7b7e",dropdownRender:function(e){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(g.jsx)(h.a,{style:{flex:"auto"},value:o,onChange:C}),Object(g.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:S,children:[Object(g.jsx)(x.a,{})," \u6dfb\u52a0\u81ea\u5b9a\u4e49\u6807\u7b7e"]})]}),e]})},children:r.map((function(e){return Object(g.jsx)(w,{value:e,children:e},e)}))})]})]})}var B=f.a.div(a||(a=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 16px;\n"]))),T=f.a.div(r||(r=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),P=f.a.span(i||(i=Object(o.a)(["\n  color: #c0c0c0;\n  margin-bottom: 16px;\n"]))),I=f.a.div(s||(s=Object(o.a)(["\n  padding: 16px;\n"])))},492:function(e,t,n){"use strict";n.d(t,"d",(function(){return U})),n.d(t,"c",(function(){return G})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return te}));var c,a,r,i,s,j=n(44),l=n(31),o=n(17),b=n(18),d=n(0),u=n(832),O=n(257),h=n(445),x=n(836),m=n(248),f=n(34),p=n(184),v=n(4),g=0;function w(e){var t=e.set,n=e.btn,c=e.children,a=e.seq,r=Object(d.useState)(0),i=Object(l.a)(r,2),s=i[0],j=i[1],o=Object(f.a)(),b=Object(f.b)((function(e){return e.project.projectTree})),m=function(e){var c,a,r=e.order||[];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(M,{children:[n||(t?Object(v.jsx)(u.a,{title:"\u662f\u5426\u5220\u9664\u8be5\u8282\u70b9\uff1f",onConfirm:function(){O.b.success("\u5220\u9664\u6210\u529f"),o(Object(p.c)(r))},okText:"Yes",cancelText:"No",children:Object(v.jsx)(H,{})}):Object(v.jsx)(te,{})),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,{}),Object(v.jsx)(h.a,{placeholder:"\u8bf7\u8f93\u5165\u8282\u70b9",defaultValue:"".concat(null===(c=b[r[0]])||void 0===c||null===(a=c.children[r[1]])||void 0===a?void 0:a.title),onBlur:function(e){o(Object(p.i)({content:e.target.value,num:r}))}})]})]}),Object(v.jsx)(Y,{})]})};return Object(v.jsxs)("div",{className:e.className,children:[Object(v.jsx)(Y,{}),Object(v.jsxs)(q,{children:[Object(v.jsx)("div",{className:"PBPTree",children:t?c.map((function(e){o(Object(p.j)([a,g++]));var t=e.key.toString();return Object(v.jsx)(m,{order:t.split(/-/).map(Number)},t)})):Object(v.jsx)(x.a,{defaultExpandAll:!0,className:"PBPTree",switcherIcon:Object(v.jsx)(m,{}),showLine:!0,showIcon:!0,treeData:e.children})}),t&&Object(v.jsx)(M,{children:Object(v.jsx)(z,{content:"\u6dfb\u52a0\u5c0f\u8282\u70b9",children:Object(v.jsx)(G,{onClick:function(){o(Object(p.f)({seq:a,content:{title:"",key:"".concat(a,"-").concat(s),children:[]}})),j(s+1)}})})})]})]})}var y,k,N,C,B,T,P,I,S,F,Y=b.a.div(c||(c=Object(o.a)(["\n    margin-bottom:16px;\n"]))),q=b.a.div(a||(a=Object(o.a)(["\n    overflow-x: auto;\n    margin-left:13px;\n"]))),M=b.a.div(r||(r=Object(o.a)(["\n    display:flex;\n    align-items: center;\n"]))),D=b.a.div(i||(i=Object(o.a)(["\n    width:16px;\n    height:16px;\n"]))),z=function(e){return Object(v.jsx)(m.a,{content:e.content,children:Object(v.jsx)(D,{children:e.children})})},L=b.a.div(s||(s=Object(o.a)(["\n    width:16px;\n"]))),V=(n(477),n(835)),A=n(190),K=n(845),R=n(465),E=n.n(R),_=function(e){var t,n,c,a=e.title,r=e.date,i=e.children,s=e.set,j=e.order,l=e.seq,d=e.setNum,x=e.setSeq,m=b.a.button(y||(y=Object(o.a)(["\n    width           : 16px;\n    height          : 16px;\n    background-color :#21b0ff;\n    border-radius   : 16px;\n    "]))),g=Object(f.a)(),k=Object(f.b)((function(e){return e.project.projectTree}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(X,{className:"PBP",children:[Object(v.jsxs)(Z,{className:"head",children:[Object(v.jsx)($,{className:"PBPtop",children:s?Object(v.jsx)(h.a,{style:{display:"flex",justifyContent:"center"},placeholder:"\u8bf7\u8f93\u5165\u5927\u8282\u70b9\u540d\u79f0",bordered:!1,defaultValue:"".concat((null===(t=k[Number(j)])||void 0===t?void 0:t.title)||""),onBlur:function(e){g(Object(p.n)({title:e.target.value,num:Number(j)}))}}):a}),s?Object(v.jsx)(u.a,{title:"\u662f\u5426\u5220\u9664\u8be5\u8282\u70b9\uff1f",onConfirm:function(){g(Object(p.e)(Number(j))),x(l-1),O.b.success("\u5220\u9664\u6210\u529f")},okText:"\u662f",cancelText:"\u5426",children:Object(v.jsx)(H,{})}):Object(v.jsx)(m,{onClick:function(){d(j)}}),Object(v.jsx)(ee,{className:"PBPfoot",children:s?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(V.a,{style:{width:"80%",marginLeft:"10%"},placeholder:"\u622a\u6b62\u65e5\u671f",defaultValue:(null===(n=k[Number(j)])||void 0===n?void 0:n.date)?E()("".concat(null===(c=k[Number(j)])||void 0===c?void 0:c.date),"YYYY-MM-DD"):void 0,onBlur:function(e){g(Object(p.n)({date:e.target.value,num:Number(j)}))}})}):r})]}),Object(v.jsx)(w,{children:i,set:s,seq:Number(j)})]})})},J=function(e){var t,n=Object(d.useState)("0"),c=Object(l.a)(n,2),a=c[0],r=c[1],i=Object(d.useState)(0),s=Object(l.a)(i,2),o=s[0],b=s[1],u=Object(f.a)(),O=0;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Q,{className:"progressBar",children:[null===(t=e.list)||void 0===t?void 0:t.map((function(t){e.set&&u(Object(p.k)(O++));var n=Object(j.a)({num:a,setNum:function(e){return r(e)},setSeq:function(e){return b(e)},order:t.key,set:e.set,seq:o},t);return Object(v.jsx)(_,Object(j.a)({},n))})),e.set&&Object(v.jsx)(X,{className:"PBP",children:Object(v.jsxs)(Z,{className:"head",children:[Object(v.jsx)($,{className:"PBPtop"}),Object(v.jsx)(z,{content:"\u6dfb\u52a0\u5927\u8282\u70b9",children:Object(v.jsx)(G,{onClick:function(){u(Object(p.h)({title:"",date:"",key:"".concat(o),children:[]})),b(o+1)}})}),Object(v.jsx)(ee,{className:"PBPfoot"})]})})]})})};function U(e){var t=Object(f.b)((function(e){return e.project.projectTree}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(W,{className:"progressTop",children:Object(v.jsx)(J,{list:e.set?t:e.list,set:e.set})})})}var G=function(e){return Object(v.jsx)(te,{onClick:e.onClick,children:Object(v.jsx)(ne,{})})},H=function(e){return Object(v.jsx)(te,{onClick:e.onClick,children:Object(v.jsx)(ce,{})})},W=b.a.div(k||(k=Object(o.a)(["\n    width: 100%;\n    height: 100px;\n"]))),Q=b.a.div(N||(N=Object(o.a)(["\n    width           : 100%;\n    height          : 2px;\n    background-color: #b4e4ff;\n"]))),X=b.a.div(C||(C=Object(o.a)(["\n    width     : 150px;  \n    ::-webkit-scrollbar-track \n    {\n        border-radius   : 3px;\n        background-color: white;\n    }\n    .PBPTree {\n        overflow-x: auto;\n    }\n"]))),Z=b.a.div(B||(B=Object(o.a)(["\n    height: 100px;\n\n"]))),$=b.a.span(T||(T=Object(o.a)(["\n    height     : 35px;\n    font-size  : 20px;\n    line-height: 25px;  \n"]))),ee=b.a.span(P||(P=Object(o.a)(["\n    height     : 35px;\n    font-size  : 16px;\n    line-height: 21px;\n    color      : #808080;\n"]))),te=b.a.button(I||(I=Object(o.a)(["\n    width           : 16px;\n    height          : 16px;\n    background-color :#21b0ff;\n    border-radius   : 16px;\n    display: flex;\n    justify-content : center;\n    align-items : center;\n"]))),ne=Object(b.a)(A.a)(S||(S=Object(o.a)(["\n    font-size :16px;\n    color :white;\n"]))),ce=Object(b.a)(K.a)(F||(F=Object(o.a)(["\n    font-size :16px;\n    color :white;\n"])))},815:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var c=n(17),a=n(44),r=n(133),i=n(31),s=n(0),j=n(25),l=n(467),o=n(445),b=n(835),d=n(448),u=n(450),O=n(449),h=n(90),x=n(475),m=n(18),f=n(184),p=n(34),v=n(843),g=n(842),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},y=n(12),k=function(e,t){return s.createElement(y.a,Object.assign({},e,{ref:t,icon:w}))};k.displayName="MinusCircleOutlined";var N,C,B,T=s.forwardRef(k),P=n(190),I=n(4),S=l.a.Option;function F(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(p.b)((function(e){return e.me.data.username})),j=d.a.useForm(),l=Object(i.a)(j,1)[0],b=Object(p.a)();return Object(I.jsxs)(q,{className:"NPMembersContainer",form:l,name:"dynamic_form_nest_item",onFinish:function(e){var t=[{username:r,role:"leader"}];(e.members||[]).map((function(e){e.username.map((function(n){t.push({username:n,role:e.role})}))})),b(Object(f.l)(t))},autoComplete:"off",children:[Object(I.jsx)(d.a.List,{name:"members",children:function(e,t){var n=t.add,i=t.remove;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(v.b,{align:"baseline",children:[Object(I.jsx)(d.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.area!==t.area||e.sights!==t.sights},children:function(){return Object(I.jsx)(d.a.Item,{isListField:!0,label:"\u804c\u52a1",children:Object(I.jsx)(o.a,{defaultValue:"leader",disabled:!0})})}}),Object(I.jsx)(d.a.Item,{isListField:!0,label:"\u4eba\u5458",children:Object(I.jsx)(M,{style:{width:"20vw"},mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u4eba\u5458",defaultValue:r,disabled:!0})})]}),e.map((function(e){return Object(I.jsxs)(v.b,{align:"baseline",children:[Object(I.jsx)(d.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.area!==t.area||e.sights!==t.sights},children:function(){return Object(I.jsx)(d.a.Item,Object(a.a)(Object(a.a)({},e),{},{label:"\u804c\u52a1",name:[e.name,"role"],fieldKey:[e.fieldKey,"role"],rules:[{required:!0,message:"\u8bf7\u586b\u5199\u804c\u52a1"}],children:Object(I.jsx)(o.a,{placeholder:"\u8bf7\u586b\u5199\u804c\u52a1",onChange:function(){return c(!0)}})}))}}),Object(I.jsx)(d.a.Item,Object(a.a)(Object(a.a)({},e),{},{label:"\u4eba\u5458",name:[e.name,"username"],fieldKey:[e.fieldKey,"username"],rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5bf9\u5e94\u4eba\u5458"}],children:Object(I.jsxs)(M,{style:{width:"20vw"},mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u4eba\u5458",onClick:function(){c(!0)},children:[Object(I.jsx)(S,{value:"red",children:"Red"}),Object(I.jsx)(S,{value:"green",children:"Green"}),Object(I.jsx)(S,{value:"blue",children:"Blue"}),Object(I.jsx)(S,{value:"white",children:"Blue"}),Object(I.jsx)(S,{value:"2",children:"Blue"}),Object(I.jsx)(S,{value:"3",children:"Blue"})]})})),Object(I.jsx)(T,{onClick:function(){c(!0),i(e.name)}})]},e.key)})),Object(I.jsx)(d.a.Item,{children:Object(I.jsx)(D,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(I.jsx)(P.a,{}),children:"\u6dfb\u52a0\u804c\u4f4d"})})]})}}),n&&Object(I.jsx)(g.a,{message:"\u8bf7\u5728\u66f4\u65b0\u8be5\u8868\u5355\u540e\u70b9\u51fb\u786e\u5b9a",type:"info",showIcon:!0,style:{marginBottom:"15px"}}),Object(I.jsx)(d.a.Item,{children:Object(I.jsx)(h.a,{type:"primary",htmlType:"submit",onClick:function(){c(!1)},children:"\u786e\u5b9a"})})]})}var Y,q=Object(m.a)(d.a)(N||(N=Object(c.a)(["\n  width: 50vw;\n"]))),M=Object(m.a)(l.a)(C||(C=Object(c.a)(["\n  width: 20vw;\n"]))),D=Object(m.a)(h.a)(B||(B=Object(c.a)(["\n  width: 40vw;\n"]))),z=n(492);function L(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(R,{children:Object(I.jsx)(z.d,{set:!0})})})}for(var V,A,K,R=m.a.div(Y||(Y=Object(c.a)(["\n    overflow-y:auto;\n    height:90%;\n"]))),E=n(207),_=n(490),J=n(121),U=l.a.Option,G=[Object(I.jsx)("div",{onClick:function(e){e.preventDefault()},children:Object(I.jsx)(o.a,{})})],H=10;H<36;H++)G.push(Object(I.jsx)(U,{value:H,children:H.toString(36)+H},H.toString(36)+H));var W=b.a.RangePicker,Q=o.a.TextArea;function X(){var e=Object(p.b)((function(e){return e.me.data.username})),t=Object(p.b)((function(e){return e.project})),n=t.members,c=t.projectTree,l=t.tags,b=Object(s.useState)(!1),m=Object(i.a)(b,2),v=m[0],g=m[1],w=Object(s.useState)(!1),y=Object(i.a)(w,2),k=y[0],N=y[1],C=Object(j.g)(),B=Object(p.a)(),T=d.a.useForm(),P=Object(i.a)(T,1)[0];return Object(s.useEffect)((function(){B(Object(f.a)()),B(Object(f.m)([])),B(Object(f.l)([{username:e,role:"leader"}]))}),[e]),Object(I.jsx)(Z,{className:"newPro",children:k?Object(I.jsx)(u.a,{status:"success",title:"\u9879\u76ee\u521b\u5efa\u6210\u529f\uff01",subTitle:"3s\u540e\u5c06\u8df3\u8f6c"}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(O.a,{className:"site-page-header",onBack:function(){return C.goBack()},title:" "}),e?Object(I.jsxs)($,{form:P,className:"newProForm",name:"control-hooks",onFinish:function(e){var t=e.date,i=Object(r.a)(e,["date"]),s=Object(a.a)(Object(a.a)({},i),{},{members:n,projectTree:c,tags:l,startAt:t[0].format("YYYY/MM/DD"),endAt:t[1].format("YYYY/MM/DD")});Object(J.b)(s).then((function(){N(!0),setTimeout((function(){C.goBack()}),3e3)})).catch()},children:[Object(I.jsxs)("div",{className:"formInner",children:[Object(I.jsx)(d.a.Item,{name:"name",label:"\u9879\u76ee\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0"}],children:Object(I.jsx)(o.a,{})}),Object(I.jsx)(d.a.Item,{name:"members",label:"\u56e2\u961f\u5206\u5de5",children:Object(I.jsx)(x.a,{dropdownOverlay:Object(I.jsx)(F,{})})}),Object(I.jsx)(d.a.Item,{name:"date",label:"\u9879\u76ee\u5f00\u59cb\u53ca\u7ed3\u675f\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u65f6\u95f4"}],children:Object(I.jsx)(W,{})}),Object(I.jsx)(d.a.Item,{name:"tags",label:"\u9879\u76ee\u6807\u7b7e",children:Object(I.jsx)(x.a,{dropdownOverlay:Object(I.jsx)(_.a,{proTags:[]})})}),Object(I.jsx)(d.a.Item,{name:"projectTree",label:"\u9879\u76ee\u8282\u70b9",children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){g(!0)},children:"\u7f16\u8f91\u8282\u70b9"})}),Object(I.jsx)(d.a.Item,{name:"description",label:"\u9879\u76ee\u7b80\u4ecb",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u9879\u76ee\u7b80\u4ecb"}],children:Object(I.jsx)(Q,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u7b80\u4ecb",allowClear:!0,maxLength:100,showCount:!0})})]}),Object(I.jsx)("div",{className:"formBtn",children:Object(I.jsxs)(d.a.Item,{children:[Object(I.jsx)(h.a,{type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"}),Object(I.jsx)(h.a,{htmlType:"button",onClick:function(){P.resetFields()},children:"\u91cd\u7f6e"})]})})]}):Object(I.jsx)(u.a,{status:"403",title:"\u60a8\u65e0\u6743\u8bbf\u95ee\u6b64\u754c\u9762",subTitle:"\u8bf7\u767b\u5f55\u540e\u91cd\u8bd5"}),v&&Object(I.jsxs)(ee,{children:[Object(I.jsx)(O.a,{className:"site-page-header",onBack:function(){return g(!1)},title:" ",style:{width:"7rem"}}),Object(I.jsx)(L,{})]})]})})}var Z=m.a.div(V||(V=Object(c.a)(["\n  background-color: white;\n  height: 100%;\n"]))),$=Object(m.a)(d.a)(A||(A=Object(c.a)(["\n  width: 60%;\n  height: 100%;\n"]))),ee=Object(m.a)(E.a)(K||(K=Object(c.a)(["\n  width: 50%;\n  height: 90%;\n  background-color: white;\n  border: 1px solid #d9d9d9;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.3);\n  position: absolute;\n  top: 10%;\n"])))}}]);
//# sourceMappingURL=10.793b7e6c.chunk.js.map